(()=>{"use strict";({383:function(){var e=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))(function(i,o){function s(e){try{c(a.next(e))}catch(e){o(e)}}function r(e){try{c(a.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,r)}c((a=a.apply(e,t||[])).next())})};function t(e){e=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(e,t,n,a){return t+t+n+n+a+a});const t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?{r:parseInt(t[1],16)/255,g:parseInt(t[2],16)/255,b:parseInt(t[3],16)/255}:{r:0,g:0,b:0}}figma.showUI(__html__,{width:400,height:500}),figma.ui.onmessage=n=>e(void 0,void 0,void 0,function*(){if("generate-personas"===n.type&&figma.notify("Persona generation coming soon to this version!"),"import-manifest"===n.type)try{const{manifest:a}=n;figma.ui.postMessage({type:"status",message:"Creating color styles..."}),yield function(n){return e(this,void 0,void 0,function*(){const e=(e,n)=>{const a=figma.createPaintStyle();a.name=e,a.paints=[{type:"SOLID",color:t(n)}]};n.primary&&e("Brand/Primary",n.primary.hex),n.secondary&&e("Brand/Secondary",n.secondary.hex),n.accent&&e("Brand/Accent",n.accent.hex),n.neutral&&Object.entries(n.neutral).forEach(([t,n])=>{e(`Neutral/${t}`,n)})})}(a.design_tokens.colors),figma.ui.postMessage({type:"status",message:"Creating text styles..."}),yield function(t){return e(this,void 0,void 0,function*(){const n=(t,n,a,i,o)=>e(this,void 0,void 0,function*(){yield figma.loadFontAsync({family:n,style:a});const e=figma.createTextStyle();e.name=t,e.fontName={family:n,style:a},e.fontSize=i,o&&(e.lineHeight={value:100*o,unit:"PERCENT"})}),a=t.heading.font,i=700===t.heading.weight?"Bold":"Regular";try{yield figma.loadFontAsync({family:a,style:i});const e=t.heading.sizes;yield n("Heading/H1",a,i,e.h1,1.2),yield n("Heading/H2",a,i,e.h2,1.3),yield n("Heading/H3",a,i,e.h3,1.4),yield n("Heading/H4",a,i,e.h4||24,1.4)}catch(e){console.error(`Could not load font ${a}`,e),figma.notify(`Could not load font ${a}. Using Inter instead.`)}const o=t.body.font,s=400===t.body.weight?"Regular":"Bold";try{yield figma.loadFontAsync({family:o,style:s});const e=t.body.sizes;yield n("Body/Base",o,s,e.base,1.5),yield n("Body/Small",o,s,e.small,1.5)}catch(e){console.error(`Could not load font ${o}`,e)}})}(a.design_tokens.typography),figma.ui.postMessage({type:"status",message:"Building brand page..."}),yield function(n){return e(this,void 0,void 0,function*(){const e=figma.createPage();e.name=`Brand System - ${n.identity.brand_name}`;let a=0;yield figma.loadFontAsync({family:"Inter",style:"Bold"});const i=figma.createText();i.characters=n.identity.brand_name,i.fontSize=64,i.y=a,e.appendChild(i),a+=100;const o=figma.createText();o.characters=n.identity.tagline,o.fontSize=24,o.y=a,e.appendChild(o),a+=150;const s=figma.createFrame();s.name="Colors",s.y=a,s.resize(800,200),s.fills=[];let r=0;const c=(e,n)=>{const a=figma.createRectangle();a.resize(100,100),a.x=r,a.fills=[{type:"SOLID",color:t(n)}],a.cornerRadius=8;const i=figma.createText();i.characters=e,i.x=r,i.y=110,i.fontSize=12,s.appendChild(a),s.appendChild(i),r+=120};n.design_tokens.colors.primary&&c("Primary",n.design_tokens.colors.primary.hex),n.design_tokens.colors.secondary&&c("Secondary",n.design_tokens.colors.secondary.hex),n.design_tokens.colors.accent&&c("Accent",n.design_tokens.colors.accent.hex),e.appendChild(s),figma.currentPage=e})}(a),figma.ui.postMessage({type:"success",message:"✅ Brand System imported successfully!"}),figma.notify("✅ Brand System imported successfully!")}catch(e){figma.ui.postMessage({type:"error",message:e.message||"Failed to import brand system"})}"close"===n.type&&figma.closePlugin()})}})[383].call({})})();